#!/bin/bash
# index.shell ‚Äî TactixCore Reborn Shell Launcher
# Author: Masterionio
# Version: 1.0.0

APP_NAME="TactixCore Reborn"
CONFIG_DIR="./config"
QUARANTINE_DIR="./quarantine"
LOG_DIR="./logs"
PYTHON_EXEC="python3"

echo "üß† Welcome to $APP_NAME"
echo "=============================="
echo "Initializing core modules..."
sleep 1

# Step 1: Verify Required Files
REQUIRED_FILES=("index.py" "index.yaml" "$CONFIG_DIR/profiles.toml" "$CONFIG_DIR/system.xml" "$CONFIG_DIR/config.ini")

for file in "${REQUIRED_FILES[@]}"; do
  if [ ! -f "$file" ]; then
    echo "‚ùå Missing: $file"
    MISSING=true
  fi
done

if [ "$MISSING" = true ]; then
  echo "‚ö†Ô∏è One or more config files are missing. Aborting launch."
  exit 1
fi

# Step 2: Launch Python Core
echo "‚úÖ All configs loaded successfully."
echo "üß™ Running system core logic via index.py..."
$PYTHON_EXEC index.py

# Step 3: Check Quarantine
if [ -d "$QUARANTINE_DIR" ]; then
  echo "üóÇ Quarantine folder found. Checking contents..."
  FILE_COUNT=$(ls -1q "$QUARANTINE_DIR" | wc -l)
  echo " ‚Üí $FILE_COUNT file(s) quarantined."
else
  echo "üì¶ No quarantine folder found. Creating..."
  mkdir -p "$QUARANTINE_DIR"
fi

# Step 4: Logging Setup
if [ ! -d "$LOG_DIR" ]; then
  echo "üìù Logs directory missing. Creating..."
  mkdir -p "$LOG_DIR"
else
  echo "üìÅ Logging active in: $LOG_DIR"
fi

# Step 5: Launch Mode Selector (Demo)
echo ""
echo "üîß Select Boost Mode:"
echo "  1) Ultra Performance"
echo "  2) Balanced"
echo "  3) Battery Saver"
echo "  4) AI Optimized"
read -p "Choose a mode [1-4]: " mode

case $mode in
  1) echo "‚ö° Activating Ultra Performance mode...";;
  2) echo "üîÑ Activating Balanced mode...";;
  3) echo "üîã Activating Battery Saver mode...";;
  4) echo "ü§ñ Activating AI Optimized mode...";;
  *) echo "‚ùå Invalid selection. Skipping boost.";;
esac

echo ""
echo "‚úÖ $APP_NAME is now active and monitoring."
echo "üß¨ Stay sharp. Stay fast. Stay safe."
